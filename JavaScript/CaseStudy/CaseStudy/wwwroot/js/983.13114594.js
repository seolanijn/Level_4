"use strict";(self["webpackChunkcasestudyinfo3067"]=self["webpackChunkcasestudyinfo3067"]||[]).push([[983],{5572:(t,e,a)=>{a.d(e,{C:()=>l,_:()=>s});const r="/api/",s=async t=>{let e,a=o();try{let s=await fetch(`${r}${t}`,{method:"GET",headers:a});e=await s.json()}catch(s){e={error:`Error has occured: ${s.message}`}}return e},l=async(t,e)=>{let a,s=o();try{let l=await fetch(`${r}${t}`,{method:"POST",headers:s,body:JSON.stringify(e)});a=await l.json()}catch(l){a=l}return a},o=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t}},7081:(t,e,a)=>{a.d(e,{p:()=>s,x:()=>r});const r=t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"}),s=t=>{let e;e=void 0===t?new Date:new Date(Date.parse(t));let a=e.getDate(),r=e.getMonth()+1,s=e.getFullYear(),l=e.getHours(),o=e.getMinutes();return o<10&&(o="0"+o),s+"-"+r+"-"+a+" "+l+":"+o}},4983:(t,e,a)=>{a.r(e),a.d(e,{default:()=>E});var r=a(9835),s=a(6970);const l={class:"text-center"},o=(0,r._)("div",{class:"text-h4 q-mt-md text-primary"},"Cart Contents",-1),c=["src"],d={class:"text-h6 text-positive"},n={key:0,style:{width:"90vw","margin-left":"5vw","margin-top":"1vh"}},u=(0,r.Uk)(" Name "),m=(0,r.Uk)(" Qty "),i=(0,r.Uk)(" MSRP "),p=(0,r.Uk)(" Extended "),w=(0,r.Uk)(" Sub: "),f=(0,r.Uk)(" Tax(13%): "),g=(0,r.Uk)(" Total: "),x={class:"text-center q-mt-md q-mb-lg"};function h(t,e,a,h,y,k){const W=(0,r.up)("q-avatar"),_=(0,r.up)("q-item-section"),b=(0,r.up)("q-item"),v=(0,r.up)("q-list"),C=(0,r.up)("q-card"),q=(0,r.up)("q-scroll-area"),S=(0,r.up)("q-btn");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",l,[o,(0,r.Wm)(W,{class:"q-mt-md",size:"xl",square:""},{default:(0,r.w5)((()=>[(0,r._)("img",{src:"cart.png"},null,8,c)])),_:1}),(0,r._)("div",d,(0,s.zw)(h.state.status),1)]),h.state.order.length>0?((0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("div",null,[(0,r.Wm)(q,{style:{height:"45vh"}},{default:(0,r.w5)((()=>[(0,r.Wm)(C,{class:"q-ma-md"},{default:(0,r.w5)((()=>[(0,r.Wm)(v,{separator:""},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{class:"text-bold bg-primary text-dark"},{default:(0,r.w5)((()=>[(0,r.Wm)(_,{class:"col-4"},{default:(0,r.w5)((()=>[u])),_:1}),(0,r.Wm)(_,{class:"col-2"},{default:(0,r.w5)((()=>[m])),_:1}),(0,r.Wm)(_,{class:"col-3"},{default:(0,r.w5)((()=>[i])),_:1}),(0,r.Wm)(_,{class:"col-2"},{default:(0,r.w5)((()=>[p])),_:1})])),_:1}),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(h.state.order,(t=>((0,r.wg)(),(0,r.j4)(b,{key:t.id,clickable:""},{default:(0,r.w5)((()=>[(0,r.Wm)(_,{class:"col-4 text-left text-dark"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(t.product.productName),1)])),_:2},1024),(0,r.Wm)(_,{class:"col-2 text-dark"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(t.qty),1)])),_:2},1024),(0,r.Wm)(_,{class:"col-1 text-right text-dark"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(h.formatCurrency(t.product.msrp)),1)])),_:2},1024),(0,r.Wm)(_,{class:"col-4 text-right text-dark"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(h.formatCurrency(t.product.msrp*t.qty)),1)])),_:2},1024)])),_:2},1024)))),128)),(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r.Wm)(_,{class:"col-4 text-left"}),(0,r.Wm)(_,{class:"col-2"}),(0,r.Wm)(_,{class:"text-bold text-right"},{default:(0,r.w5)((()=>[w])),_:1}),(0,r.Wm)(_,{class:"col-4 text-right text-dark"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(h.formatCurrency(h.state.sub)),1)])),_:1})])),_:1}),(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r.Wm)(_,{class:"col-4 text-left"}),(0,r.Wm)(_,{class:"col-1"}),(0,r.Wm)(_,{class:"text-bold text-right"},{default:(0,r.w5)((()=>[f])),_:1}),(0,r.Wm)(_,{class:"col-4 text-right text-dark"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(h.formatCurrency(h.state.tax)),1)])),_:1})])),_:1}),(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r.Wm)(_,{class:"col-4 text-left"}),(0,r.Wm)(_,{class:"col-2"}),(0,r.Wm)(_,{class:"text-bold col-1 text-right"},{default:(0,r.w5)((()=>[g])),_:1}),(0,r.Wm)(_,{class:"col-4 text-right text-info"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(h.formatCurrency(h.state.total)),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,r._)("div",x,[(0,r.Wm)(S,{class:"q-mr-sm",color:"primary",label:"Checkout",disable:h.state.order.length<1,onClick:e[0]||(e[0]=t=>h.saveorder())},null,8,["disable"]),(0,r.Wm)(S,{color:"primary",label:"Empty Cart",onClick:e[1]||(e[1]=t=>h.clearorder())})])])])):(0,r.kq)("",!0)],64)}var y=a(7081),k=a(499),W=a(5572);const _={setup(){let t=(0,k.qj)({status:"",sub:0,tax:0,total:0,order:[]});(0,r.bv)((()=>{sessionStorage.getItem("order")?(t.order=JSON.parse(sessionStorage.getItem("order")),t.order.forEach((e=>{t.sub+=e.product.msrp*e.qty})),t.tax=.13*t.sub,t.total=t.sub+t.tax):t.order=[]}));const e=()=>{sessionStorage.removeItem("order"),t.order=[],t.status="Cart Emptied"},a=async()=>{let a=JSON.parse(sessionStorage.getItem("customer")),r=JSON.parse(sessionStorage.getItem("order"));try{t.status="sending cart info to server";let s={email:a.email,selections:r},l=await(0,W.C)("order",s);l.indexOf("not")>0||e(),t.status=l}catch(s){console.log(s),t.status=`Error add order: ${s}`}};return{state:t,formatCurrency:y.x,clearorder:e,saveorder:a}}};var b=a(1639),v=a(1357),C=a(1019),q=a(4458),S=a(3246),U=a(490),z=a(1233),D=a(4455),I=a(9984),Q=a.n(I);const Z=(0,b.Z)(_,[["render",h]]),E=Z;Q()(_,"components",{QAvatar:v.Z,QScrollArea:C.Z,QCard:q.Z,QList:S.Z,QItem:U.Z,QItemSection:z.Z,QBtn:D.Z})}}]);